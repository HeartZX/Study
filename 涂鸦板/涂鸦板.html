<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>涂鸦板</title>
<style>
#wrap{width:600px;margin:0 auto;}
#myCanves{border:1px solid #000;cursor:pointer;}
#selColor{width:100px;height:25px;}
#btnClear{width:80px;height:25px;}
</style>
<script>
	window.onload=function(){
		//首先获得画布对象，获得上下文环境
		var canves=document.getElementById("myCanves");
		var ctx=canves.getContext("2d");
		//其次，确定画笔，粗细颜色
		var selcolor=document.getElementById("selColor");
		var clr=selcolor.value;
		var linewidth=1;//画笔粗细，默认1
		//触发selcolor的change事件，获得画笔颜色
		selcolor.onchange=function(){
			clr=selcolor.value;
			}
		//触发mousedown.mousemove.mouseup三个事件，进行绘制
		//1mousedown事件，确定绘画开始
		var bDraw=false;//确定绘画是否开始
		canves.onmousedown=function(e){
			bDraw=true;
			ctx.lineWidth=linewidth;//给画笔粗细
			ctx.strokeStyle=clr;//颜色
			//应用beginpath(),确定正式开始绘画
			ctx.beginPath();
			//应用moveto(),把画笔定位在某一个点开始
			ctx.moveTo(e.x-canves.offsetLeft,e.y-canves.offsetTop)
			}
			canves.onmousemove=function(e){
				if(bDraw){
				ctx.lineTo(e.x-canves.offsetLeft,e.y-canves.offsetTop)
				ctx.stroke();//绘制线段
				}
			}
			canves.onmouseup=function(){
				bDraw=false;
				}	
				//清空的实现
				//变白
				var btnClear=document.getElementById("btnClear");
				btnClear.onclick=function(){
					ctx.fillStyle="#fff";//填充色设置
					ctx.fillRect(0,0,canves.width,canves.height);//填充矩形
					}
		}
</script>
</head>

<body>
<div id="wrap">
	<canvas id="myCanves" width="500px" height="500px"></canvas>
    <br/>
    <select id="selColor">
    	<option value="#f00" selected>红色</option>
        <option value="#0f0">绿色</option>
        <option value="#00f">蓝色</option>
        <option value="#0ff">青色</option>
        <option value="#f0f">品色</option>
        <option value="#ff0">黄色</option>
    </select>
	<button id="btnClear">清空</button>
</div>
</body>
</html>
